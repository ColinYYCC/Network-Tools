# å‚è€ƒ è–¯è–¯ï¼ˆ@VirgilClyneï¼‰&æ•´ç‚¹çŒ«ä»”ï¼ˆ@GetSomeCatï¼‰&SakkuW(@SukkaW) &Lucy(@Repcz) é…ç½®
# å®˜æ–¹æ‰‹å†Œ - https://manual.nssurge.com/
# ç†è§£åŽŸç† - https://manual.nssurge.com/book/understanding-surge/cn/
# å¸®åŠ©ä¸­å¿ƒ - https://nssurge.zendesk.com/
# æŠ€æœ¯ç¤¾åŒº - https://community.nssurge.com
# Surge ä½¿ç”¨æ‰‹å†Œ - https://surge.mitsea.com/
# ä»¥"#" ";" å’Œ "//" å¼€å¤´çš„è¡Œä¸ºæ³¨é‡Šè¡Œ
# æœ¬é…ç½®ä¸»è¦å‚è€ƒ è–¯è–¯ï¼ˆ@VirgilClyneï¼‰ç‰¹åˆ«æ„Ÿè°¢ï¼
# æœ¬é…ç½®ä½¿ç”¨æ–¹æ³•ï¼šåœ¨è‡ªåŠ¨é€‰æ‹©å°†â€œè¾“å…¥ä½ çš„æœºåœºè®¢é˜…é“¾æŽ¥â€æ›¿æ¢æˆä½ çš„æœºåœºæä¾›çš„è®¢é˜…ç½‘å€å³å¯ã€‚
# æ›´æ–°æ—¶é—´ï¼š2024.06.17 02:06

[General]
# --- é€šç”¨ ---
# é€šç”¨è®¾ç½®
# > è­¦å‘Šä¿¡æ¯
# ä¸æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯
# no-alert=true

# > å¢žå¼ºç‰ˆ Wi-Fi åŠ©ç†
# (åœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿žæŽ¥ï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯)
wifi-assist = false

# > Internet æµ‹è¯• URL
internet-test-url = http://connectivitycheck.platform.hicloud.com/generate_204
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://latency-test.skk.moe/endpoint
# > ä»£ç†æµ‹è¯• UDP
proxy-test-udp = www.apple.com@64.6.64.6
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 3

# > TLS å¼•æ“Ž
# TLS Provider: default, secure-transport, network-framework, openssl
# tls-provider = default

# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://github.com/xream/geoip/releases/latest/download/ipinfo.country.mmdb
# geoip-maxmind-url = https://raw.githubusercontent.com/Repcz/Tool/raw/X/GeoIP/Global_Country.mmdb
# GeoIP ç¦ç”¨è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = false

# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
# æ˜¯å¦å¯åŠ¨å®Œæ•´çš„ IPv6 æ”¯æŒ (é»˜è®¤å€¼: false)
ipv6 = false
# Surge VIF IPv6 Stack
# å…è®¸ IPv6 é€šè¿‡ Surge VIFã€‚å½“å¸Œæœ› Surge å¤„ç†è¿žæŽ¥åˆ° IPv6 åœ°å€çš„åŽŸå§‹ TCP è¿žæŽ¥æ—¶éžå¸¸æœ‰ç”¨ã€‚å¯é€‰é¡¹ï¼štrueï¼Œfalseï¼Œautoï¼Œalways
ipv6-vif = auto
# ------

# --- Wi-Fi è®¿é—® ---
# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œfalseã€æ”¹ä¸ºã€Œtrueã€)
allow-wifi-access = true
# > å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—® (ä»… iOSï¼Œè‹¥å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®å°†ã€Œfalseã€æ”¹ä¸ºã€Œtrueã€)
allow-hotspot-access = true
# Surge iOS ä¾›å¤–ç½‘è®¿é—®çš„æœåŠ¡ç«¯å£
# HTTP æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6152)
wifi-access-http-port = 6699
# SOCKS5 æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6153)
wifi-access-socks5-port = 9966

# > å…è®¸ Wi-Fi è®¿é—® (ä»… macOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œ127.0.0.1ã€æ”¹ä¸ºã€Œ0.0.0.0ã€)
# Surge Mac ä¾›å¤–ç½‘è®¿é—®çš„æœåŠ¡ç«¯å£
# HTTP æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6152)
http-listen = 0.0.0.0:6152
# SOCKS5 æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6153)
socks5-listen = 0.0.0.0:6153
# ------

# --- è¿œç¨‹æŽ§åˆ¶å™¨ ---
# å…è®¸ Surge è¯·æ±‚æŸ¥çœ‹å™¨æˆ– Surge CLI è¿›è¡Œç®¡ç†æŽ§åˆ¶ã€‚
# å¦‚æžœå…è®¸ç”± Wi-Fi æŽ§åˆ¶åˆ™å°†ã€Œ127.0.0.1ã€ä¿®æ”¹ä¸ºã€Œ0.0.0.0ã€
external-controller-access = Colin@0.0.0.0:6170
# ------

# --- HTTP API ---
# ä»…Surge iOS 4.4.0 å’Œ Surge Mac 4.0.0 ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒé€šè¿‡ HTTP API æŽ§åˆ¶ Surgeã€‚
http-api = Colin@0.0.0.0:6171
http-api-tls = false
# Web Dashboard
# control Surge via a web browser on local or remote devices
http-api-web-dashboard = true
# ------

# --- å…¼å®¹æ€§ ---
# > å…¼å®¹æ¨¡å¼ (ä»… iOS)
compatibility-mode = 0
# > è·³è¿‡ä»£ç†
# è·³è¿‡æŸä¸ªåŸŸåæˆ–è€… IP æ®µï¼Œè¿™äº›ç›®æ ‡ä¸»æœºå°†ä¸ä¼šç”± Surge Proxy å¤„ç†ã€‚
# (macOS ç‰ˆæœ¬ä¸­ï¼Œå¦‚æžœå¯ç”¨äº† Set as System Proxy, è¿™äº›å€¼ä¼šè¢«å†™å…¥åˆ°ç³»ç»Ÿç½‘ç»œä»£ç†è®¾ç½®.)
# skip-proxy = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 162.14.0.0/16, 162.159.192.0/24, 162.159.193.0/24, 162.159.195.0/24, 172.16.0.0/12, 192.168.0.0/16, 211.99.96.0/19, fc00::/7, fe80::/10, localhost, *.local, captive.apple.com, passenger.t3go.cn, *.ccb.com, wxh.wo.cn, *.abcchina.com, *.abcchina.com.cn
skip-proxy = localhost, *.local, passenger.t3go.cn, e.crashlytics.com, captive.apple.com, app.yinxiang.com, injections.adguard.org, local.adguard.org, cable.auth.com, www.baidu.com, yunbusiness.ccb.com,*.bankcomm.com,*.ccb.com,*.boc.cn, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16, 224.0.0.0/3, ::1/128, fc00::/7, fd00::/8, fe80::/10, ff00::/8, 2001::/32, 2001:db8::/32, 2002::/16, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1

# ä»£ç†æŽ¥ç®¡ä¼˜å…ˆ ï¼ˆåŽŸæ¥çš„å…¼å®¹æ€§å·²ç»ç§»é™¤ï¼‰
# > æŽ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true

# --- å®žéªŒæ€§åŠŸèƒ½ ---
# > Network framwork
# network-framework = false
# ------

# --- DNS æœåŠ¡å™¨ ---
# > DNS æœåŠ¡å™¨ (å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨ DNS over HTTPS)
# ä¼ ç»Ÿ DNS æœåŠ¡å™¨è®¾ç½®
dns-server = 9.9.9.9, 149.112.112.112
# åŠ å¯† DNS æœåŠ¡å™¨è®¾ç½®
# encrypted-dns-server = https://dns.quad9.net/dns-query

# > ä»Ž /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# > é€šè¿‡ä»£ç†è¯·æ±‚ä½¿ç”¨æœ¬åœ°DNSæ˜ å°„ç»“æžœ
use-local-host-item-for-proxy = true

# > åŠ å¯†DNSæœåŠ¡å™¨
# ä½¿åŠ å¯†DNSè¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
encrypted-dns-follow-outbound-mode = true
# ä½¿åŠ å¯†DNSè·³è¿‡è¯ä¹¦éªŒè¯
encrypted-dns-skip-cert-verification = false
# ------

# > SSID ç»„ç­–ç•¥
# å½“ Wi-Fi ä¸æ˜¯é¦–é€‰ç½‘ç»œæ—¶ SSID ç»„ç­–ç•¥ä½¿ç”¨é»˜è®¤ç­–ç•¥ï¼ˆä»… macOS ç‰ˆï¼‰
use-default-policy-if-wifi-not-primary = false
# ------

# > å…¶å®ƒ
# show-primary-interface-changed-notification = true
# proxy-settings-interface = Primary Interface (Auto)
# menu-bar-show-speed = false
# ------

# --- é«˜çº§ ---
# é«˜çº§è®¾ç½®

# > æ—¥å¿—çº§åˆ«
# æ—¥å¿—ç­‰çº§: warning, notify, info, verbose (é»˜è®¤å€¼: notify)
loglevel = notify

# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›žé”™è¯¯é¡µ
show-error-page-for-reject = true

# > Always Real IP Hosts
# å½“ Surge VIF å¤„ç† DNS é—®é¢˜æ—¶ï¼Œæ­¤é€‰é¡¹è¦æ±‚ Surge è¿”å›žä¸€ä¸ªçœŸæ­£çš„ IP åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‡ IP åœ°å€ã€‚
# DNS æ•°æ®åŒ…å°†è¢«è½¬å‘åˆ°ä¸Šæ¸¸ DNS æœåŠ¡å™¨ã€‚
always-real-ip = *.lan, *.localdomain, *.localhost, *.home.arpa, msftncsi.com, msftconnecttest.com, *.msftncsi.com, *.msftconnecttest.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.ipv6.microsoft.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, turn.twilio.com, *.turn.twilio.com, stun.twilio.com, *.stun.twilio.com, stun.syncthing.net, stun.*.*, stun.*.*.*, controlplane.tailscale.com, time.*.com, time.*.gov, time.*.edu.cn, time.*.apple.com, time1.*.com, time2.*.com, time3.*.com, time4.*.com, time5.*.com, time6.*.com, time7.*.com, time8.*.com, time9.*.com, ntp.*.com, ntp1.*.com, ntp2.*.com, ntp3.*.com, ntp4.*.com, ntp5.*.com, ntp6.*.com, ntp7.*.com, time1.*.com, time2.*.com, time3.*.com, time4.*.com, time5.*.com, time6.*.com, time7.*.com, time8.*.com, ti me9.*.com, *.time.edu.cn, *.ntp.org.cn, *.pool.ntp.org, time1.cloud.tencent.com, local.adguard.org, injections.adguard.org, localhost.ptlogin2.qq.com, localhost.sec.qq.com, localhost.work.weixin.qq.com, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*, *.battlenet.com.cn, *.blzstatic.cn, *.battlenet.com

# Hijack DNS
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge åªè¿”å›žå‘é€åˆ° Surge DNS åœ°å€çš„ DNS æŸ¥è¯¢çš„å‡ IP åœ°å€(198.18.0.2)ã€‚
# æœ‰äº›è®¾å¤‡æˆ–è½¯ä»¶æ€»æ˜¯ä½¿ç”¨ç¡¬ç¼–ç çš„ DNS æœåŠ¡å™¨ã€‚ (ä¾‹å¦‚ Google Speakers æ€»æ˜¯ä½¿ç”¨ 8.8.8.8)ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹åŠ«æŒæŸ¥è¯¢ï¼Œä»¥èŽ·å¾—ä¸€ä¸ªå‡åœ°å€ã€‚
hijack-dns = 8.8.8.8:53, 8.8.4.4:53

# > TCP Force HTTP Hosts
# è®© Surge æŠŠ TCP è¿žæŽ¥å½“ä½œ HTTP è¯·æ±‚æ¥å¤„ç†ã€‚Surge HTTP å¼•æ“Žå°†å¤„ç†è¿™äº›è¯·æ±‚ï¼Œæ‰€æœ‰çš„é«˜çº§åŠŸèƒ½ï¼Œå¦‚æ•èŽ·ã€é‡å†™å’Œè„šæœ¬ç­‰éƒ½å¯ä»¥ä½¿ç”¨ã€‚
# KOOWO - 123.59.31.1,119.18.193.135, 122.14.246.33, 175.102.178.52
# TencentVideo - 116.253.24.*, 175.6.26.*, 220.169.153.*
force-http-engine-hosts = *.ott.cibntv.net, 123.59.31.1, 119.18.193.135, 122.14.246.33, 175.102.178.52

# VIF Excluded Routes
# Surge VIF åªèƒ½å¤„ç† TCP å’Œ UDP åè®®ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡ç‰¹å®šçš„ IP èŒƒå›´ï¼Œå…è®¸æ‰€æœ‰æµé‡é€šè¿‡ã€‚
# tun-excluded-routes = 255.255.255.255/32 (é»˜è®¤)
# tun-excluded-routes = 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32

# VIF Included Routes
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge VIF æŽ¥å£ä¼šå£°æ˜Žè‡ªå·±æ˜¯é»˜è®¤è·¯ç”±ã€‚ä½†æ˜¯ï¼Œç”±äºŽ Wi-Fi æŽ¥å£çš„è·¯ç”±è¾ƒå°ï¼Œæœ‰äº›æµé‡å¯èƒ½ä¸ä¼šé€šè¿‡ Surge VIF æŽ¥å£ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥æ·»åŠ ä¸€æ¡è¾ƒå°çš„è·¯ç”±ã€‚
# tun-included-routes = 172.20.10.0/24, 198.18.1.0/20

# > è·¯ç”±é˜²ç«å¢™
# åŒ…å«æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚
include-all-networks = false

# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
include-local-networks = false

# > æ¸¸æˆä¼˜åŒ–æ¨¡å¼
# æ¸¸æˆä¼˜åŒ–:å¼€å¯åŽä¼šæé«˜å¤„ç† UDP æµé‡çš„ä¼˜å…ˆçº§ï¼Œå½“ç³»ç»Ÿè´Ÿè½½é«˜æ—¶ä¼šæœ‰æ¯”è¾ƒæ˜Žæ˜¾çš„ä½œç”¨ (å¦‚é«˜æ€§èƒ½è”æœºæ¸¸æˆ)
udp-priority = false

# udp-policy-not-supported-behaviour å‚æ•°ç”¨äºŽæŽ§åˆ¶å½“ UDP æµé‡è¢«åŒ¹é…åˆ°ä¸€ä¸ªä¸æ”¯æŒ UDP è½¬å‘çš„ç­–ç•¥æ—¶çš„è¡Œä¸º
# DIRECTï¼šå›žé€€åˆ° DIRECT ç­–ç•¥ï¼ˆé»˜è®¤ï¼‰
# REJECTï¼šå›žé€€åˆ° REJECT ç­–ç•¥ï¼ˆå»ºè®®)
# å¦‚ä¸€äº›æµ·å¤–æ¸¸æˆå’Œè¯­éŸ³ä½¿ç”¨ UDP åè®®ï¼Œè€Œæ‰€ä½¿ç”¨çš„æœåŠ¡å™¨ä¸æ”¯æŒ UDP Relay æ—¶ï¼Œè®¾ç½®ä¸º reject å°†æ— æ³•è¿žæŽ¥ï¼Œä½†å¦‚æžœéœ€è¦è°ƒæ•´è¯¥å‚æ•°çš„å€¼ä¸º directï¼Œè¯·åŠ¡å¿…æ¸…æ¥šäº†è§£åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸Ž UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£Žé™©ã€‚
# æŽ¨èç”¨ REJECTï¼Œé˜²æ­¢ UDP æµé‡è¢«ç›´è¿žæ¼å‡ºåŽ»ã€‚
udp-policy-not-supported-behaviour = REJECT
# ------

[Proxy Group]
# --- External Proxy Group ---
# > Sub-Storeè®¢é˜…
# åŽ»é‡è®¢é˜…ï¼ˆéœ€è¦é…åˆSub-Storeè„šæœ¬https://raw.githubusercontent.com/Keywos/rule/main/cname.js#bs=10&cd=2000&flag=ä½¿ç”¨ï¼‰
De-Surge = select, policy-path=[å¡«å…¥è®¢é˜…], update-interval=10800, no-alert=0, hidden=true, include-all-proxies=0

# é‡å‘½åè®¢é˜…ï¼ˆéœ€è¦é…åˆSub-Storeè„šæœ¬https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Resource/Script/Sub-Store/NodeRename.jsä½¿ç”¨ï¼‰
Rename = select, policy-path=[å¡«å…¥è®¢é˜…], update-interval=10800, no-alert=0, hidden=true, include-all-proxies=0

# > æœºåœºè®¢é˜…
[æœºåœºåå­—] = select, policy-path=[å¡«å…¥è®¢é˜…], update-interval=10800, no-alert=0, hidden=true, include-all-proxies=0

# ------

# --- Internal Proxy Group ---
# > é…ç½®åˆ†æµ
å…¨çƒèŠ‚ç‚¹ = select, SmartGroup, é¦™æ¸¯, å°æ¹¾, æ–°åŠ å¡, æ—¥æœ¬, ç¾Žå›½, éŸ©å›½, UrlTest, Fallback, è´Ÿè½½å‡è¡¡, èŠ‚ç‚¹é€‰æ‹©, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Rename

# IPå½’å±žåœ°æ›´æ”¹
å½’å±žåœ°æ›´æ”¹ = select, DIRECT, é¦™æ¸¯, å°æ¹¾, æ–°åŠ å¡, æ—¥æœ¬, ç¾Žå›½, éŸ©å›½

# Apple
ï£¿ Apple Services = select, DIRECT, èŠ‚ç‚¹é€‰æ‹©
ï£¿ Apple CDN = select, ï£¿ Apple Services, å…¨çƒèŠ‚ç‚¹, DIRECT

# Netflix
Netflix = select, æ–°åŠ å¡, é¦™æ¸¯, æ¾³é—¨, å°æ¹¾, æ—¥æœ¬, ç¾Žå›½, éŸ©å›½, UrlTest, Fallback, è´Ÿè½½å‡è¡¡
# YouTube
YouTube = select, é¦™æ¸¯, æ¾³é—¨, å°æ¹¾, æ–°åŠ å¡, æ—¥æœ¬, ç¾Žå›½, éŸ©å›½, UrlTest, Fallback, è´Ÿè½½å‡è¡¡
# Disney+
Disney+ = select, æ–°åŠ å¡, é¦™æ¸¯, æ¾³é—¨, å°æ¹¾, æ—¥æœ¬, ç¾Žå›½, éŸ©å›½, UrlTest, Fallback, è´Ÿè½½å‡è¡¡
# Spotify
Spotify = select, é¦™æ¸¯, æ¾³é—¨, å°æ¹¾, æ–°åŠ å¡, æ—¥æœ¬, ç¾Žå›½, éŸ©å›½, UrlTest, Fallback, è´Ÿè½½å‡è¡¡
# HBO GO ASIA
HBO GO = select, é¦™æ¸¯, æ¾³é—¨, å°æ¹¾, æ–°åŠ å¡, æ—¥æœ¬, ç¾Žå›½, éŸ©å›½, UrlTest, Fallback, è´Ÿè½½å‡è¡¡

# æ¸¸æˆ
ðŸŽ®æ¸¸æˆ = select, DIRECT, å…¨çƒèŠ‚ç‚¹, UrlTest, Fallback, è´Ÿè½½å‡è¡¡, èŠ‚ç‚¹é€‰æ‹©

# å›½é™…æµåª’ä½“æœåŠ¡
å›½é™…æµåª’ä½“ = select, UrlTest, é¦™æ¸¯, å°æ¹¾, æ–°åŠ å¡, æ—¥æœ¬, ç¾Žå›½, éŸ©å›½, Fallback, è´Ÿè½½å‡è¡¡, DIRECT

# ä¸­å›½æµåª’ä½“æœåŠ¡ï¼ˆé¢å‘æµ·å¤–ç‰ˆæœ¬ï¼‰
å›½å…§æµåª’ä½“ = select, DIRECT, é¦™æ¸¯, å°æ¹¾, æ–°åŠ å¡, UrlTest, Fallback, è´Ÿè½½å‡è¡¡

# ç™½åå•æ¨¡å¼ PROXYï¼Œé»‘åå•æ¨¡å¼ DIRECT
æ¼ç½‘ä¹‹é±¼ = select, å…¨çƒèŠ‚ç‚¹, UrlTest, Fallback, è´Ÿè½½å‡è¡¡, DIRECT, èŠ‚ç‚¹é€‰æ‹©
# ------

# > èŠ‚ç‚¹åˆ†æµ
èŠ‚ç‚¹é€‰æ‹© = select, policy-regex-filter=^(?=.*(.*))(?!.*((?i)å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|å…¬å‘Š|é‚€è¯·|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|èŽ·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Rename

UrlTest = url-test, hidden=0, policy-regex-filter=^(?=.*(.*))(?!.*((?i)å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|å…¬å‘Š|é‚€è¯·|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|èŽ·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$, interval=3000, tolerance=50, evaluate-before-use=1, no-alert=0, include-all-proxies=0, include-other-group=De-Surge

Fallback = fallback, hidden=0, policy-regex-filter=^(?=.*(.*))(?!.*((?i)å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|å…¬å‘Š|é‚€è¯·|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|èŽ·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$, interval=3000, evaluate-before-use=1, no-alert=0, include-all-proxies=0, include-other-group=De-Surge

è´Ÿè½½å‡è¡¡ = load-balance, hidden=0, policy-regex-filter=^(?=.*(.*))(?!.*((?i)å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|å…¬å‘Š|é‚€è¯·|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|èŽ·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$, interval=3000, tolerance=50, evaluate-before-use=1, no-alert=0, include-all-proxies=0, persistent=1, include-other-group=De-Surge

SmartGroup = smart, policy-regex-filter=^(?=.*(.*))(?!.*((?i)å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|å…¬å‘Š|é‚€è¯·|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|èŽ·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Rename

# åœ°åŒºåˆ†æµ
é¦™æ¸¯ = load-balance, policy-regex-filter=^(?=.*((?i)ðŸ‡­ðŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b))).*$, no-alert=0, hidden=1, include-all-proxies=0, persistent=1, include-other-group=De-Surge

æ¾³é—¨ = load-balance, policy-regex-filter=^(?=.*((?i)ðŸ‡²ðŸ‡´|æ¾³é—¨|MAC)).*$, no-alert=0, hidden=1, include-all-proxies=0, persistent=1, include-other-group=De-Surge

å°æ¹¾ = load-balance, policy-regex-filter=^(?=.*((?i)ðŸ‡¼ðŸ‡¸|å°æ¹¾|(\b(TW|Tai|Taiwan|TWN)\b))).*$, no-alert=0, hidden=1, include-all-proxies=0, persistent=1, include-other-group=De-Surge

æ–°åŠ å¡ = load-balance, policy-regex-filter=^(?=.*((?i)ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore|SGP)\b))).*$, no-alert=0, hidden=1, include-all-proxies=0, persistent=1, include-other-group=De-Surge

æ—¥æœ¬ = load-balance, policy-regex-filter=^(?=.*((?i)ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼çŽ‰|(\b(JP|Japan|JPN)\b))).*$, no-alert=0, hidden=1, include-all-proxies=0, persistent=1, include-other-group=De-Surge

ç¾Žå›½ = load-balance, policy-regex-filter=^(?=.*((?i)ðŸ‡ºðŸ‡¸|ç¾Žå›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸŽ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡ž|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States|USA)\b))).*$, no-alert=0, hidden=1, include-all-proxies=0, persistent=1, include-other-group=De-Surge

éŸ©å›½ = load-balance, policy-regex-filter=^(?=.*((?i)ðŸ‡°ðŸ‡·|éŸ©|éŸ“|é¦–å°”|(/b(KR|Korea)/b))).*$, no-alert=0, hidden=1, include-all-proxies=0, persistent=1, include-other-group=De-Surge
# ------

# å…¼å®¹æ€§ä¿®å¤
PROXY = select, å…¨çƒèŠ‚ç‚¹, hidden=true
# ------

[Rule]
# --- CUSTOM RULES ---
# è‡ªå®šä¹‰è§„åˆ™
# # æ‚¨å¯ä»¥åœ¨æ­¤å¤„æ’å…¥è‡ªå®šä¹‰è§„åˆ™
DOMAIN,front.fishport.cloud,DIRECT

# æ–°å¢žå†…ç½®ç­–ç•¥ NO-HYBRIDï¼Œç­‰ä»·ä¸º NO-HYBRID = direct, hybrid=off
DOMAIN-SUFFIX,cmbchina.com,NO-HYBRID // éƒ¨åˆ†æœåŠ¡ä¼šæ ¡éªŒè¯·æ±‚çš„æ¥æº IPï¼Œåœ¨å¼€å¯ hybrid æ—¶æœ‰å¯èƒ½å› ä¸ºè¯·æ±‚IPå˜åŒ–å¯¼è‡´æ— æ³•æ­£å¸¸ç™»å½•å’Œä½¿ç”¨ï¼ˆå¦‚æ‹›å•†é“¶è¡Œï¼‰ï¼Œå¯ä½¿ç”¨ NO-HYBRID å¯¹ç‰¹å®šè¯·æ±‚å•ç‹¬å…³é—­ All Hybrid

# Process ç¨‹åºè§„åˆ™
# > AdGuard
DOMAIN,injections.adguard.org,DIRECT
DOMAIN,local.adguard.org,DIRECT

# > Client
# Proxy
PROCESS-NAME,*Clash*,DIRECT
PROCESS-NAME,*clash*,DIRECT
PROCESS-NAME,Surge*,DIRECT
PROCESS-NAME,v2ray,DIRECT
PROCESS-NAME,xray,DIRECT
PROCESS-NAME,naive,DIRECT
PROCESS-NAME,Trojan,DIRECT
PROCESS-NAME,Trojan-go,DIRECT
PROCESS-NAME,ss-local,DIRECT
PROCESS-NAME,ssr-local,DIRECT
PROCESS-NAME,privoxy,DIRECT
PROCESS-NAME,leaf,DIRECT
PROCESS-NAME,UUBooster,DIRECT

# > Downloader
PROCESS-NAME,BaiduNetdisk,DIRECT
PROCESS-NAME,*Folx*,DIRECT
PROCESS-NAME,*Thunder*,DIRECT
PROCESS-NAME,*DownloadService*,DIRECT
PROCESS-NAME,*Soda*,DIRECT
PROCESS-NAME,*p4pclient*,DIRECT
PROCESS-NAME,aria2c,DIRECT
PROCESS-NAME,fdm,DIRECT
PROCESS-NAME,Folx,DIRECT
PROCESS-NAME,NetTransport,DIRECT
PROCESS-NAME,amuled,DIRECT
PROCESS-NAME,Motrix.app,DIRECT
DOMAIN-SUFFIX,smtp,DIRECT
DOMAIN-KEYWORD,aria2,DIRECT

# > Xunlei
PROCESS-NAME,Thunder,DIRECT
PROCESS-NAME,ThunderVIP,DIRECT
USER-AGENT,%E8%BF%85%E9%9B%B7,DIRECT
DOMAIN-SUFFIX,xunlei.com,DIRECT

# tailscale
PROCESS-NAME,tailscaled,DIRECT
# Parsec
PROCESS-NAME,parsecd,DIRECT
# å‘æ—¥è‘µè¿œç¨‹
PROCESS-NAME,SunloginClient_Desktop,DIRECT
PROCESS-NAME,SunloginClient_Helper,DIRECT
# ç™¾åº¦ç½‘ç›˜
PROCESS-NAME,BaiduNetdisk_mac,DIRECT

# BT
PROCESS-NAME,BitComet,DIRECT
PROCESS-NAME,DownloadService,DIRECT
PROCESS-NAME,qBittorrent,DIRECT
PROCESS-NAME,qbittorrent-nox,DIRECT
PROCESS-NAME,Transmission,DIRECT
PROCESS-NAME,transmission-daemon,DIRECT
PROCESS-NAME,transmission-qt,DIRECT
PROCESS-NAME,uTorrent,DIRECT
PROCESS-NAME,WebTorrent,DIRECT
PROCESS-NAME,WebTorrent Helper,DIRECT
DOMAIN-KEYWORD,announce,DIRECT
DOMAIN-KEYWORD,torrent,DIRECT
DOMAIN-KEYWORD,tracker,DIRECT

# Web Controller ç½‘é¡µæŽ§åˆ¶å™¨è§„åˆ™
# > Surge
DOMAIN,yasd.royli.dev,DIRECT
# > Clash
DOMAIN,clash.razord.top,DIRECT
DOMAIN,yacd.haishan.me,DIRECT
# > BoxJs
DOMAIN,boxjs.com,DIRECT
DOMAIN,boxjs.net,DIRECT
# > Sub-Store
DOMAIN-SUFFIX,vercel.app,å…¨çƒèŠ‚ç‚¹

# Rulesetsï¼Œè§„åˆ™é›†ï¼ˆæ¯ 24 å°æ—¶åŽå°è‡ªåŠ¨æ›´æ–°ï¼‰
# è§„åˆ™é›†åŒ…å«å¤šæ¡å­è§„åˆ™ï¼Œå¯ä»¥æ˜¯å¦ä¸€ä¸ªæœ¬åœ° list æ–‡ä»¶ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ª URL
# å†…ç½®äº†ä¸¤ä¸ªè§„åˆ™é›†ï¼šSYSTEM å’Œ LAN
# å†…ç½®è§„åˆ™é›†çš„å…·ä½“å†…å®¹å¯åœ¨ Surge Mac è®¾ç½®ç•Œé¢æŸ¥çœ‹

# Unbreak åŽç»­è§„åˆ™ä¿®æ­£
RULE-SET,https://github.com/Repcz/Tool/raw/X/Surge/Rules/Direct.list,DIRECT,extended-matching // Unbreak åŽç»­è§„åˆ™ä¿®æ­£

# IPå½’å±žåœ°æ›´æ”¹
RULE-SET,https://raw.githubusercontent.com/lwd-temp/anti-ip-attribution/main/generated/surge.list,å½’å±žåœ°æ›´æ”¹,extended-matching // IPå½’å±žåœ°

# Advertising å¹¿å‘Šæ‹¦æˆª / Privacy éšç§ä¿æŠ¤ / Malware æ‹¦æˆª / Phiishing æ‹¦æˆª
RULE-SET,https://adrules.top/adrules-surge.conf,REJECT-DROP,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject.conf,REJECT-DROP,extended-matching
# DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT-TINYGIF,extended-matching
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject_phishing.conf,REJECT-DROP,extended-matching
# RULE-SET,https://ruleset.skk.moe/List/ip/reject.conf,REJECT-DROP,no-resolve

# SpeedTest æµ‹é€Ÿ
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/speedtest.conf,PROXY,extended-matching // SpeedTest

# é™æ€CDNåŸŸå(å¼·çƒˆå»ºè­°)
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/cdn.conf,PROXY,extended-matching // SukkaWé™æ€CDNåŸŸå
RULE-SET,https://ruleset.skk.moe/List/non_ip/cdn.conf,PROXY,extended-matching // SukkaWé™æ€CDNåŸŸå

# è‹¹æžœæœåŠ¡è§„åˆ™åˆ—è¡¨
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_services.conf,ï£¿ Apple Services,extended-matching // ï£¿ Apple Services
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/apple_cdn.conf,ï£¿ Apple CDN,extended-matching // ï£¿ Apple CDN

# ï£¿TV+
PROCESS-NAME,/System/Applications/TV.app/Contents/MacOS/TV,å›½é™…æµåª’ä½“ // ï£¿TV+
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleTV/AppleTV.list,å›½é™…æµåª’ä½“,extended-matching // ï£¿TV+
# Disney+
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Disney+,extended-matching // Disney+
# Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix,extended-matching // Netflix
# YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,å›½é™…æµåª’ä½“,extended-matching
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTubeMusic/YouTubeMusic.list,å›½é™…æµåª’ä½“,extended-matching // YouTube Music
# Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,å›½é™…æµåª’ä½“,extended-matching // Spotify
# Now E
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/NowE/NowE.list,é¦™æ¸¯,extended-matching // Now E
# å·´å“ˆå§†ç‰¹
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Streaming/Video/Bahamut.list,å°æ¹¾,extended-matching // å·´å“ˆå§†ç‰¹
# Hami Video
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HamiVideo/HamiVideo.list,å°æ¹¾,extended-matching // Hami Video
# Niconico
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Niconico/Niconico.list,æ—¥æœ¬,extended-matching // Niconico
# HBO
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HBOUSA/HBOUSA.list,ç¾Žå›½,extended-matching // HBO MAX
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HBOHK/HBOHK.list,é¦™æ¸¯,extended-matching // HBO GO ASIA
# Hulu
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HuluUSA/HuluUSA.list,ç¾Žå›½,extended-matching // HuluðŸ‡ºðŸ‡¸
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HuluJP/HuluJP.list,æ—¥æœ¬,extended-matching // HuluðŸ‡¯ðŸ‡µ
# BiliBili
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBiliIntl/BiliBiliIntl.list,å›½é™…æµåª’ä½“,extended-matching // BilibiliðŸ‡ºðŸ‡³

# Github
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,å…¨çƒèŠ‚ç‚¹,extended-matching // Github

# Streaming å›½é™…æµåª’ä½“æœåŠ¡
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream.conf,å›½é™…æµåª’ä½“,extended-matching // Streaming å›½é™…æµåª’ä½“æœåŠ¡
RULE-SET,https://ruleset.skk.moe/List/ip/stream.conf,å›½é™…æµåª’ä½“ // Streaming å›½é™…æµåª’ä½“æœåŠ¡(IP)

# å›½å¤–ç½‘ç«™
RULE-SET,https://ruleset.skk.moe/List/non_ip/global.conf,å…¨çƒèŠ‚ç‚¹,extended-matching // å›½å¤–ç½‘ç«™

# Telegram ç”µæŠ¥
RULE-SET,https://github.com/LucaLin233/Luca_Conf/blob/main/Surge/Rule/Telegram.list?raw=true,å…¨çƒèŠ‚ç‚¹,extended-matching // Telegram ç”µæŠ¥

# > Game æ¸¸æˆ(ä¸ä»…é™äºŽUDP, åŒ…æ‹¬ç›¸å…³CDN)
# GameList
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Game/Game.list,ðŸŽ®æ¸¸æˆ // GameList
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Blizzard/Blizzard.list,ðŸŽ®æ¸¸æˆ // æš´é›ªå¨±ä¹ Blizzard
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Classic/Classic.list,ðŸŽ®æ¸¸æˆ // Classic
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/DiabloIII/DiabloIII.list,ðŸŽ®æ¸¸æˆ // æš—é»‘ç ´åç¥žIII DiabloIII
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hearthstone/Hearthstone.list,ðŸŽ®æ¸¸æˆ // ç‚‰çŸ³ä¼ è¯´ Hearthstone
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HeroesoftheStorm/HeroesoftheStorm.list,ðŸŽ®æ¸¸æˆ // é£Žæš´è‹±é›„ HeroesoftheStorm
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Rockstar/Rockstar.list,ðŸŽ®æ¸¸æˆ // ä¾ ç›—çŒŽè½¦æ‰‹ Rockstar
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Overwatch/Overwatch.list,ðŸŽ®æ¸¸æˆ // å®ˆæœ›å…ˆé”‹ Overwatch
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/StarCraftII/StarCraftII.list,ðŸŽ®æ¸¸æˆ // æ˜Ÿæµ·çˆ­éœ¸II StarCraftII
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WildRift/WildRift.list,ðŸŽ®æ¸¸æˆ // è‹±é›„è”ç›Ÿæ‰‹æ¸¸ WildRift
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WorldofWarcraft/WorldofWarcraft.list,ðŸŽ®æ¸¸æˆ // é­”å…½ä¸–ç•ŒWorldofWarcraft

# Game Publisher
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Discord/Discord.list,ðŸŽ®æ¸¸æˆ // Discord
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/EA/EA.list,ðŸŽ®æ¸¸æˆ // EA
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Epic/Epic.list,ðŸŽ®æ¸¸æˆ // Epic
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HoYoverse/HoYoverse.list,ðŸŽ®æ¸¸æˆ // ç±³å“ˆæ¸¸
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Nintendo/Nintendo.list,ðŸŽ®æ¸¸æˆ // ä»»å¤©å ‚ Nintendo
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Origin/Origin.list,ðŸŽ®æ¸¸æˆ // Origin
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PlayStation/PlayStation.list,ðŸŽ®æ¸¸æˆ // PlayStation
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Steam/Steam.list,ðŸŽ®æ¸¸æˆ // Steam
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/SteamCN/SteamCN.list,ðŸŽ®æ¸¸æˆ // SteamCN
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Supercell/Supercell.list,ðŸŽ®æ¸¸æˆ // éƒ¨è½å†²çª Supercell
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/UBI/UBI.list,ðŸŽ®æ¸¸æˆ // UBI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Xbox/Xbox.list,ðŸŽ®æ¸¸æˆ // Xbox

# StreamingCN ä¸­å›½æµåª’ä½“æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMedia/ChinaMedia.list,å›½å…§æµåª’ä½“,extended-matching // ChinaMedia ä¸­å›½æµåª’ä½“æœåŠ¡

# WeChat å¾®ä¿¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat.list,DIRECT,extended-matching // WeChat å¾®ä¿¡

# China ä¸­å›½ç›´è¿ž
RULE-SET,https://ruleset.skk.moe/List/non_ip/domestic.conf,DIRECT,extended-matching // å›½å…§ç›´è¿ž
RULE-SET,https://ruleset.skk.moe/List/non_ip/direct.conf,DIRECT,extended-matching // å›½å…§ç›´è¿ž

# China ä¸­å›½ç›´è¿ž (IP)
RULE-SET,https://ruleset.skk.moe/List/ip/domestic.conf,DIRECT // China ä¸­å›½ç›´è¿ž (IP)
RULE-SET,https://ruleset.skk.moe/List/ip/china_ip.conf,DIRECT,no-resolve // China ä¸­å›½ç›´è¿ž (IP)

# SYSTEM ç³»ç»Ÿ
RULE-SET,SYSTEM,DIRECT // SYSTEM ç³»ç»Ÿ

# ASN China åŸºäºŽASN æ•°æ®åº“åˆ¤æ–­åŸŸåå’Œ IP çš„å½’å±žåœ°
# RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT // ASN CHINA

# Surge çš„è‡ªåŠ¨ REJECT ä¿æŠ¤ä¸¢åŒ…ï¼Œé˜²æ­¢åº”ç”¨å¾ªçŽ¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve

# Local Area Network æœ¬åœ°å±€åŸŸç½‘
RULE-SET,LAN,DIRECT // Local Area Network æœ¬åœ°å±€åŸŸç½‘

DOMAIN-SUFFIX,direct,DIRECT
DOMAIN-SUFFIX,wpad,DIRECT
DOMAIN-SUFFIX,localhost,DIRECT
DOMAIN-SUFFIX,invalid,DIRECT
DOMAIN-SUFFIX,onion,DIRECT
DOMAIN-SUFFIX,test,DIRECT
DOMAIN-SUFFIX,lan,DIRECT
DOMAIN-SUFFIX,intranet,DIRECT
DOMAIN-SUFFIX,internal,DIRECT
DOMAIN-SUFFIX,private,DIRECT
DOMAIN-SUFFIX,home,DIRECT
DOMAIN-SUFFIX,corp,DIRECT
IP-CIDR,169.254.0.0/16,DIRECT
IP-CIDR,224.0.0.0/4,DIRECT
IP-CIDR,240.0.0.0/4,DIRECT
IP-CIDR,255.255.255.255/32,DIRECT
IP-CIDR6,fc00::/7,DIRECT
IP-CIDR6,fd00::/8,DIRECT
IP-CIDR6,ff00::/8,DIRECT
IP-CIDR6,ff01::/16,DIRECT
IP-CIDR6,ff02::/16,DIRECT
IP-CIDR6,ff03::/16,DIRECT
IP-CIDR6,ff04::/16,DIRECT
IP-CIDR6,ff05::/16,DIRECT
IP-CIDR6,2001:db8::/32,DIRECT
IP-CIDR6,2002::/16,DIRECT

# DEST-PORT ç«¯å£è§„åˆ™
OR,((DEST-PORT,25), (DEST-PORT,110), (DEST-PORT,143), (DEST-PORT,465), (DEST-PORT,587)),DIRECT // é‚®ä»¶æœåŠ¡é»˜è®¤ç«¯å£
AND,((OR,((DOMAIN,time-ios.apple.com), (DOMAIN,time.apple.com), (DOMAIN-SUFFIX,pool.ntp.org))), (DEST-PORT,123)),DIRECT // NTPæœåŠ¡é»˜è®¤ç«¯å£

# å‰©ä½™æœªåŒ¹é…çš„å›½å†…ç½‘ç«™
# DOMAIN-SUFFIX,cn,DIRECT
# DOMAIN-KEYWORD,-cn,DIRECT

# GEOIP
GEOIP,CN,DIRECT,no-resolve // IPinfo

# Final DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,æ¼ç½‘ä¹‹é±¼,notification-text="æ¼ç½‘ä¹‹é±¼",always-capture=Debug,dns-failed

[Host]
# --- CUSTOM HOSTS ---
# > IPv6
ip6-localhost = ::1 // IPv6 Localhost
ip6-loopback = ::1 // IPv6 Loopback
ip6-localnet = fe00::0 // IPv6 Link-Local
ip6-mcastprefix = ff00::0 // IPv6 Multicast
ip6-allnodes = ff02::1 // IPv6 All Nodes
ip6-allrouters = ff02::2 // IPv6 All Routers
ip6-allhosts = ff02::3 // IPv6 All Hosts

# > Encrypted DNS
dns.google = 8.8.8.8, 8.8.4.4, 2001:4860:4860::8888, 2001:4860:4860::8844 // https://dns.google/dns-query
dns64.dns.google = 2001:4860:4860::6464, 2001:4860:4860::64 // https://dns64.dns.google/dns-query
cloudflare-dns.com = 104.16.249.249, 104.16.248.249, 2606:4700::6810:f8f9, 2606:4700::6810:f9f9 // https://cloudflare-dns.com/dns-query
1dot1dot1dot1.cloudflare-dns.com = 1.1.1.1, 1.0.0.1, 2606:4700:4700::1001, 2606:4700:4700::1111 // 1dot1dot1dot1.cloudflare-dns.com:853
one.one.one.one = 1.1.1.1, 1.0.0.1, 2606:4700:4700::1001, 2606:4700:4700::1111 // one.one.one.one:853
dns.alidns.com = 223.5.5.5, 223.6.6.6, 2400:3200:baba::1, 2400:3200::1 // https://dns.alidns.com/dns-query
doh.pub = 1.12.12.12, 120.53.53.53 // https://doh.pub/dns-query
dot.pub = 1.12.12.12, 120.53.53.53 // dot.pub:853
doh.360.cn = 23.6.48.18, 112.65.69.15 // https://doh.360.cn/dns-query
dot.360.cn = 101.198.198.198, 101.198.199.200, 101.198.192.33, 112.65.69.15 // dot.360.cn:853
dns.twnic.tw = 101.101.101.101, 2001:de4::101, 2001:de4::102 // https://dns.twnic.tw/dns-query
ordns.he.net = 74.82.42.42, 2001:470:20::2 // https://ordns.he.net/dns-query

# > Modify Contents
# services.googleapis.cn = 74.125.193.94 // Google API Services China
talk.google.com = 108.177.125.188 // Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188, 2404:6800:4008:c07::bc, 142.250.31.188 // Firebase Cloud Messaging
alt1-mtalk.google.com = 3.3.3.3, 2607:f8b0:4023:c0b::bc, 64.233.171.188 // Firebase Cloud Messaging
alt2-mtalk.google.com = 3.3.3.3, 142.250.115.188 // Firebase Cloud Messaging
alt3-mtalk.google.com = 74.125.200.188, 173.194.77.188 // Firebase Cloud Messaging
alt4-mtalk.google.com = 74.125.200.188, 173.194.219.188 // Firebase Cloud Messaging
alt5-mtalk.google.com = 3.3.3.3, 2607:f8b0:4023:1::bc, 142.250.112.188 // Firebase Cloud Messaging
alt6-mtalk.google.com = 3.3.3.3, 172.217.197.188 // Firebase Cloud Messaging
alt7-mtalk.google.com = 74.125.200.188, 2607:f8b0:4002:c03::bc, 108.177.12.188 // Firebase Cloud Messaging
alt8-mtalk.google.com = 3.3.3.3 // Firebase Cloud Messaging
# dl.google.com = 180.163.151.161 // Google CDN
# dl.l.google.com = 180.163.151.161 // Google CDN

# --- CUSTOM DNS ---
# > Modify Contents
blog.google = server:119.29.29.29 // Google Blog
googletraveladservices.com = server:119.29.29.29 // Google Flights
dl.google.com = server:119.29.29.29 // Google Download
dl.l.google.com = server:119.29.29.29 // Google Download
clientservices.googleapis.com = server:119.29.29.29 // Google Chrome
update.googleapis.com = server:119.29.29.29 // Google Update
translate.googleapis.com = server:119.29.29.29 // Google Translate
fonts.googleapis.com = server:119.29.29.29 // Google Fonts
fonts.gstatic.com = server:119.29.29.29 // Google Fonts
stun.l.google.com = server:syslib // Google STUN
stun?.l.google.com = server:syslib // Google STUN

# > Router Admin Panel
*.id.ui.direct = server:syslib // Ubiquiti Unifi Network App
# unifi.ui.com = server:syslib // Ubiquiti Unifi Portal
unifi.local = server:syslib // Ubiquiti Unifi OS
# network.unifi.ui.com = server:syslib // Ubiquiti Unifi Controller
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
instant.arubanetworks.com = server:syslib // Aurba Router
setmeup.arubanetworks.com = server:syslib // Aurba Router
www.miwifi.com = server:syslib // å°ç±³ Mi WiFi Router
miwifi.com = server:syslib // å°ç±³ Mi WiFi Router
mediarouter.home = server:syslib // åŽä¸º Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
tplinkwifi.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // æ°´æ˜Ÿ MERCURY Router
falogin.cn = server:syslib // è¿…æ· FAST Router
tendawifi.com = server:syslib // è…¾è¾¾ Tenda Router
leike.cc = server:syslib // ç£Šç§‘ Netcore Router
zte.home = server:syslib // ä¸­å…´ ZTE Router
p.to = server:syslib // æ–è®¯ PHICOMM Router
phicomm.me = server:syslib // æ–è®¯ PHICOMM Router
hiwifi.com = server:syslib // æžè·¯ç”± HiWiFi Router
peiluyou.com = server:syslib // è¿…é›·è·¯ç”±
_hotspot_.m2m = server:syslib // M2M routers at MiFi Hotspot
hotspot.cslwifi.com = server:syslib // csl Wi-Fi

# > Apple
# refer: https://support.apple.com/zh-cn/HT210060
networking.apple = server:https://doh.dns.apple.com/dns-query // Apple
# *.apple.com = server:https://doh.dns.apple.com/dns-query // Apple.com
*.icloud.com = server:https://doh.dns.apple.com/dns-query // iCloud.com

# > Alphabet
# refer: https://developers.google.com/speed/public-dns/docs/doh?hl=zh-cn
# *.google = server:https://dns.google/dns-query // Google
*.google.com = server:https://dns.google/dns-query // Google
*.google.com.?? = server:https://dns.google/dns-query // Google
# *.goog = server:https://dns.google/dns-query // Google sites
*.gstatic.com = server:https://dns.google/dns-query // Google é™æ€èµ„æº
*.ggpht.com = server:https://dns.google/dns-query // Google Photos
*.googleusercontent.com = server:https://dns.google/dns-query // Google ç”¨æˆ·ä¸Šä¼ æ•°æ®
*.googleapis.com = server:https://dns.google/dns-query // Google APIs
*.1e100.net = server:https://dns.google/dns-query // Google backbone
*.youtube = server:https://dns.google/dns-query // Youtube sites
*.youtube.com = server:https://dns.google/dns-query // Youtube
*.ytimg.com = server:https://dns.google/dns-query // Youtube å›¾ç‰‡
*.googlevideo.com = server:https://dns.google/dns-query // Youtube Video
*.gvt?.com = server:https://dns.google/dns-query // Google Video Thumbnails
*.recaptcha.net = server:https://dns.google/dns-query // reCaptcha
*.gmail.com = server:https://dns.google/dns-query // Gmail
*.googlesource.com = server:https://dns.google/dns-query // Google Source
*.googleadservices.com = server:https://dns.google/dns-query // Google AD Services
*.doubleclick.net = server:https://dns.google/dns-query // DoubleClick
*.adsense.com = server:https://dns.google/dns-query // AdSense
*.adsensecustomsearchads.com = server:https://dns.google/dns-query // AdSense Custom Search Ads
*.adsenseformobileapps.com = server:https://dns.google/dns-query // AdSense for mobile apps
*.gle = server:https://dns.google/dns-query // Google shortened URLs
goo.gl = server:https://dns.google/dns-query // Google URL Shortener

# > Cloudflare
# refer: https://developers.cloudflare.com/1.1.1.1/encryption/dns-over-https/make-api-requests/
*.cloudflare.com = server:https://cloudflare-dns.com/dns-query // Cloudflare
*.cloudflarestream.com = server:https://cloudflare-dns.com/dns-query // Cloudflare Stream
*.cloudflareclient.com = server:https://cloudflare-dns.com/dns-query // Cloudflare Client
*.cloudflareinsights.com = server:https://cloudflare-dns.com/dns-query // Cloudflare Web Analytics
*.every1dns.net = server:https://cloudflare-dns.com/dns-query // Cloudflare 1.1.1.1
# *.cloudflaressl.com = server:https://cloudflare-dns.com/dns-query // Cloudflare SSL Certificate
# *.cloudflare-dns.com = server:https://cloudflare-dns.com/dns-query // Cloudflare DNS
*.workers.dev = server:https://cloudflare-dns.com/dns-query // CloudFlare Workers

# > é˜¿é‡Œå·´å·´
# refer: https://www.alidns.com
*.alibaba.cn = server:https://dns.alidns.com/dns-query // é˜¿é‡Œå·´å·´
*.alibaba.com.cn = server:https://dns.alidns.com/dns-query // é˜¿é‡Œå·´å·´
*.china.alibaba.com = server:https://dns.alidns.com/dns-query // Alibaba ä¸­å›½
*.1688.com = server:https://dns.alidns.com/dns-query // 1688
*.taobao.com = server:https://dns.alidns.com/dns-query // æ·˜å®
*.tbcache.com = server:https://dns.alidns.com/dns-query // æ·˜å® ç¼“å­˜
*.tmall.com = server:https://dns.alidns.com/dns-query // å¤©çŒ«
*.alicdn.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œ CDN
*.alikunlun.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œæ˜†ä»‘
*.aliapp.com = server:https://dns.alidns.com/dns-query // äº‘å¼•æ“Žåº”ç”¨å¹³å°
*.aliapp.org = server:https://dns.alidns.com/dns-query // ä¸Šäº‘å¹³å°
*.alibabausercontent.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œç”¨æˆ·ä¸Šä¼ èµ„æ–™
*.mmstat.com = server:https://dns.alidns.com/dns-query // mmstat æ•°æ®ç»Ÿè®¡ å¹¿å‘Šè¿½è¸ª
tb.cn = server:https://dns.alidns.com/dns-query // æ·˜å®çŸ­ç½‘å€

# > é˜¿é‡Œäº‘
# refer: https://www.alidns.com
*.aliyun.* = server:https://dns.alidns.com/dns-query // é˜¿é‡Œäº‘
*.aliyuncdn.* = server:https://dns.alidns.com/dns-query // é˜¿é‡Œäº‘ CDN
*.aliyuncs.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œäº‘ API æœåŠ¡
*.aliyunddos????.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œäº‘ DDoSé˜²æŠ¤
*.aliyundrive.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œäº‘ç›˜
*.aliyundun.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œäº‘ç›¾
*.aliyundunwaf.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œäº‘ç›¾ Web åº”ç”¨é˜²ç«å¢™
*.aliyun-inc.com = server:https://dns.alidns.com/dns-query // é˜¿é‡Œäº‘ å†…éƒ¨

# > èš‚èšé›†å›¢
# refer: https://www.alidns.com
*.antgroup.com = server:https://dns.alidns.com/dns-query // èš‚èšé›†å›¢
*.antfin.com = server:https://dns.alidns.com/dns-query // èš‚èšé‡‘æœ
*.antfinancial.com = server:https://dns.alidns.com/dns-query // èš‚èšé‡‘æœ
*.alipay.com = server:https://dns.alidns.com/dns-query // æ”¯ä»˜å®
*.alipay.com.cn = server:https://dns.alidns.com/dns-query // æ”¯ä»˜å®
*.alipaydns.com = server:https://dns.alidns.com/dns-query // æ”¯ä»˜å® HTTP DNS
*.alipayeshop.com = server:https://dns.alidns.com/dns-query // æ”¯ä»˜å® å•†å®¶èµ„æº
*.alipaylog.com = server:https://dns.alidns.com/dns-query // æ”¯ä»˜å® Mdap
*.alipayobjects.com = server:https://dns.alidns.com/dns-query // æ”¯ä»˜å® é™æ€èµ„æº
*.alipay-eco.com = server:https://dns.alidns.com/dns-query // æ”¯ä»˜å® å¼€æ”¾æŠ€æœ¯ç”Ÿæ€ä½“ç³»

# > è…¾è®¯
# refer: https://www.dnspod.cn/products/publicdns
*.tencent.com = server:https://doh.pub/dns-query // è…¾è®¯
*.qcloud.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘
*.qcloudcdn.cn = server:https://doh.pub/dns-query // è…¾è®¯äº‘CDN
*.qcloudcdn.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘CDN
*.qcloudcos.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘å¯¹è±¡å‚¨å­˜
*.qcloudimg.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘é™æ€èµ„æº
*.qcloudcjgj.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘è¶…çº§ç®¡å®¶
*.qcloudwzgj.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘ç½‘ç«™ç®¡å®¶
*.qcloudzygj.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘ä¸»é¡µç®¡å®¶
*.myqcloud.com = server:https://doh.pub/dns-query // è…¾è®¯å¼€æ”¾äº‘
*.tencent-cloud.net = server:https://doh.pub/dns-query // è…¾è®¯äº‘
*.tencentcloud-aiot.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘aiotè§£å†³æ–¹æ¡ˆ
*.tencentcloudapi.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘API
*.tencentcloudcr.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡TCR
*.tencentcloudmarket.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘äº‘å¸‚åœº
*.qq.com = server:https://doh.pub/dns-query // QQ
*.qlogo.cn = server:https://doh.pub/dns-query // è…¾è®¯å¤´åƒ
*.qpic.cn = server:https://doh.pub/dns-query // è…¾è®¯å›¾ç‰‡
*.weixin.qq.com = server:https://doh.pub/dns-query // å¾®ä¿¡
*.wx.qq.com = server:https://doh.pub/dns-query // å¾®ä¿¡
*.weixin.com = server:https://doh.pub/dns-query // å¾®ä¿¡
*.weixinbridge.com = server:https://doh.pub/dns-query // å¾®ä¿¡å…¬ä¼—å¹³å°
*.wechat.com = server:https://doh.pub/dns-query // WeChat
*.servicewechat.com = server:https://doh.pub/dns-query // å¾®ä¿¡å°ç¨‹åº
*.weiyun.com = server:https://doh.pub/dns-query // å¾®äº‘
*.gtimg.cn = server:https://doh.pub/dns-query // è…¾è®¯ å›¾ç‰‡ é™æ€èµ„æº
*.idqqimg.com = server:https://doh.pub/dns-query // è…¾è®¯ å›¾ç‰‡ é™æ€èµ„æº
*.cdn-go.cn = server:https://doh.pub/dns-query // è…¾è®¯ é™æ€èµ„æº CDN
*.smtcdns.com = server:https://doh.pub/dns-query // è…¾è®¯äº‘ æ™ºèƒ½äº‘è§£æžDNS
*.smtcdns.net = server:https://doh.pub/dns-query // è…¾è®¯äº‘ æ™ºèƒ½äº‘è§£æžDNS
url.cn = server:https://doh.pub/dns-query // è…¾è®¯çŸ­ç½‘å€

# > ç™¾åº¦
# refer: https://dudns.baidu.com/support/localdns/Address/index.html
*.baidu = server:180.76.76.76 // ç™¾åº¦
*.baidu.com = server:180.76.76.76 // ç™¾åº¦
*.bdimg.com = server:180.76.76.76 // ç™¾åº¦ é™æ€èµ„æº
*.bdstatic.com = server:180.76.76.76 // ç™¾åº¦ é™æ€èµ„æº
*.baidupcs.* = server:180.76.76.76 // ç™¾åº¦ç½‘ç›˜
*.baiduyuncdn.* = server:180.76.76.76 // ç™¾åº¦äº‘CDN
*.baiduyundns.* = server:180.76.76.76 // ç™¾åº¦äº‘DNS
*.bdydns.* = server:180.76.76.76 // ç™¾åº¦äº‘ DNS
*.bdycdn.* = server:180.76.76.76 // ç™¾åº¦äº‘ CDN
*.bdysite.com = server:180.76.76.76 // ç™¾åº¦äº‘ åŸŸå
*.bdysites.com = server:180.76.76.76 // ç™¾åº¦äº‘ åŸŸå
*.baidubce.* = server:180.76.76.76 // ç™¾åº¦æ™ºèƒ½äº‘
*.bcedns.* = server:180.76.76.76 // ç™¾åº¦æ™ºèƒ½äº‘ DNS
*.bcebos.com = server:180.76.76.76 // ç™¾åº¦æ™ºèƒ½äº‘ å¯¹è±¡å­˜å‚¨BOS
*.bcevod.com = server:180.76.76.76 // ç™¾åº¦æ™ºèƒ½äº‘ æ’­æ”¾å™¨æœåŠ¡
*.bceimg.com = server:180.76.76.76 // ç™¾åº¦æ™ºèƒ½äº‘ å›¾ç‰‡æœåŠ¡
*.bcehost.com = server:180.76.76.76 // ç™¾åº¦æ™ºèƒ½äº‘ ä¸»æœº
*.bcehosts.com = server:180.76.76.76 // ç™¾åº¦æ™ºèƒ½äº‘ ä¸»æœº
dwz.cn = server:180.76.76.76 // ç™¾åº¦çŸ­ç½‘å€

# > 360
# refer: https://sdns.360.net/dnsPublic.html#course
*.360.cn = server:https://doh.360.cn/dns-query // 360å®‰å…¨ä¸­å¿ƒ
*.360safe.com = server:https://doh.360.cn/dns-query // 360å®‰å…¨å«å£«
*.360kuai.com = server:https://doh.360.cn/dns-query // 360å¿«èµ„è®¯
*.so.com = server:https://doh.360.cn/dns-query // 360æœç´¢
*.360webcache.com = server:https://doh.360.cn/dns-query // 360ç½‘é¡µå¿«ç…§æœåŠ¡
*.qihuapi.com = server:https://doh.360.cn/dns-query // å¥‡è™Žapi
*.qhimg.com = server:https://doh.360.cn/dns-query // 360å›¾åºŠ
*.qhimgs.com = server:https://doh.360.cn/dns-query // 360å›¾åºŠ
*.qhimgs?.com = server:https://doh.360.cn/dns-query // 360å›¾åºŠ
*.qhmsg.com = server:https://doh.360.cn/dns-query // 360
*.qhres.com = server:https://doh.360.cn/dns-query // å¥‡è™Žé™æ€èµ„æº
*.qhres?.com = server:https://doh.360.cn/dns-query // å¥‡è™Žé™æ€èµ„æº
*.dhrest.com = server:https://doh.360.cn/dns-query // å¯¼èˆªé™æ€æ–‡ä»¶
*.qhupdate.com = server:https://doh.360.cn/dns-query // 360
*.yunpan.cn = server:https://doh.360.cn/dns-query // 360å®‰å…¨äº‘ç›˜
*.yunpan.com.cn = server:https://doh.360.cn/dns-query // 360å®‰å…¨äº‘ç›˜
*.yunpan.com = server:https://doh.360.cn/dns-query // 360å®‰å…¨äº‘ç›˜
urlqh.cn = server:https://doh.360.cn/dns-query // 360çŸ­ç½‘å€

# > Bytedance
# refer: https://www.volcengine.com/docs/6758/179060
*.amemv.com = server:180.184.1.1 // è‰¾ç‰¹è¿·
*.bdxiguaimg.com = server:180.184.1.1 // è¥¿ç“œ å›¾ç‰‡æœåŠ¡
*.bdxiguastatic.com = server:180.184.1.1 // è¥¿ç“œ é™æ€èµ„æº
*.byted-static.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ UNPKG
*.bytedance.* = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨
*.bytedns.net = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ DNS
*.bytednsdoc.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ CDN æ–‡ä»¶å­˜å‚¨
*.bytegoofy.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ Goofy
*.byteimg.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ å›¾ç‰‡æœåŠ¡
*.bytescm.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ SCM
*.bytetos.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ TOS
*.bytexservice.com = server:180.184.1.1 // é£žä¹¦ä¼ä¸šæœåŠ¡å¹³å°
*.douyin.com = server:180.184.1.1 // æŠ–éŸ³
*.douyinpic.com = server:180.184.1.1 // æŠ–éŸ³ é™æ€èµ„æº
*.douyinstatic.com = server:180.184.1.1 // æŠ–éŸ³ é™æ€èµ„æº
*.douyinvod.com = server:180.184.1.1 // æŠ–éŸ³ é™æ€èµ„æº
*.feelgood.cn = server:180.184.1.1 // FeelGoodå¹³å°
*.feiliao.com = server:180.184.1.1 // é£žèŠå®˜ç½‘
*.gifshow.com = server:180.184.1.1 // å¿«æ‰‹
*.huoshan.com = server:180.184.1.1 // ç«å±±ç½‘
*.huoshanzhibo.com = server:180.184.1.1 // ç«å±±ç›´æ’­
*.ibytedapm.com = server:180.184.1.1 // æŠ–éŸ³ dapm
*.iesdouyin.com = server:180.184.1.1 // æŠ–éŸ³ CDN
*.ixigua.com = server:180.184.1.1 // è¥¿ç“œè§†é¢‘
*.kspkg.com = server:180.184.1.1 // å¿«æ‰‹
*.pstatp.com = server:180.184.1.1 // æŠ–éŸ³ é™æ€èµ„æº
*.snssdk.com = server:180.184.1.1 // ä»Šæ—¥å¤´æ¡
*.toutiao.com = server:180.184.1.1 // ä»Šæ—¥å¤´æ¡
*.toutiao13.com = server:180.184.1.1 // ä»Šæ—¥å¤´æ¡
*.toutiao???.??? = server:180.184.1.1 // ä»Šæ—¥å¤´æ¡ é™æ€èµ„æº
*.toutiaocloud.cn = server:180.184.1.1 // å¤´æ¡äº‘
*.toutiaocloud.com = server:180.184.1.1 // å¤´æ¡äº‘
*.toutiaopage.com = server:180.184.1.1 // ä»Šæ—¥å¤´æ¡ å»ºç«™
*.wukong.com = server:180.184.1.1 // æ‚Ÿç©º
*.zijieapi.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ API
*.zijieimg.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ å›¾ç‰‡æœåŠ¡
*.zjbyte.com = server:180.184.1.1 // ä»Šæ—¥å¤´æ¡ ç½‘é¡µç‰ˆ
*.zjcdn.com = server:180.184.1.1 // å­—èŠ‚è·³åŠ¨ CDN

# > BiliBili
# *.bilibili.com = server:syslib // BiliBili
# *.biliapi.com = server:syslib // BiliBili API
# *.biliapi.net = server:syslib // BiliBili API
# *.bilicdn?.com = server:syslib // BiliBili CDN
# *.hdslb.com = server:syslib // BiliBili é™æ€èµ„æº
# *.hdslb.net = server:syslib // BiliBili é™æ€èµ„æº
# cn-hk-eq-bcache-??.bilivideo.com = server:syslib // BiliBili è§†é¢‘æœåŠ¡å™¨ï¼ˆunknownï¼‰
# upos-hz-mirrorakam.akamaized.net = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆakamaiï¼‰
# upos-sz-mirrorasiaov.bilibilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆasia-abroad.comï¼‰
upos-sz-mirrorali.bilivideo.com = server:https://dns.alidns.com/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ï¼‰
upos-sz-mirrorali?.bilivideo.com = server:https://dns.alidns.com/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ï¼‰
upos-sz-mirrorali??.bilivideo.com = server:https://dns.alidns.com/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ï¼‰
upos-sz-mirrorbos.bilivideo.com = server:180.76.76.76 // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆç™¾åº¦äº‘ï¼‰
upos-sz-mirrorcos.bilivideo.com = server:https://doh.pub/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰
upos-sz-mirrorcos?.bilivideo.com = server:https://doh.pub/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰
upos-sz-mirrorcos??.bilivideo.com = server:https://doh.pub/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰
# upos-sz-mirrorhw.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆåŽä¸ºäº‘ï¼‰
# upos-sz-mirrorhw?.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆåŽä¸ºäº‘ï¼‰
# upos-sz-mirrorhwo?.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆåŽä¸ºäº‘ï¼‰
# upos-sz-mirrorks3.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆé‡‘å±±äº‘ï¼‰
# upos-sz-mirrorks3?.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆé‡‘å±±äº‘ï¼‰
# upos-sz-mirrorkodo.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆä¸ƒç‰›äº‘ï¼‰
# upos-sz-mirrorkodo?.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆä¸ƒç‰›äº‘ï¼‰
# upos-sz-mirrorwcs.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆç½‘å®¿ï¼‰
# upos-sz-mirrorwcs?.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆç½‘å®¿ï¼‰
# upos-sz-mirrorxycdn.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè¿…é›·ï¼‰
upos-sz-upcdnbd??.bilivideo.com = server:180.76.76.76 // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆç™¾åº¦äº‘ï¼‰
# upos-sz-upcdnhw.bilivideo.com = server:syslib // BiliBili uuposè§†é¢‘æœåŠ¡å™¨ï¼ˆåŽä¸ºäº‘ï¼‰
upos-sz-upcdntx.bilivideo.com = server:https://doh.pub/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰
# upos-sz-upcdnws.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆç½‘å®¿ï¼‰
# upos-tf-all-js.bilivideo.com = server:syslib // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆunknownï¼‰
# *.mcdn.bilivideo.com = server:syslib // BiliBili mCDNè§†é¢‘æœåŠ¡å™¨
# *.bilivideo.com = server:syslib // BiliBili è§†é¢‘
# *.bilivideo.cn = server:syslib // BiliBili è§†é¢‘
# acg.tv = server:syslib // BiliBiliçŸ­ç½‘å€

# > äº¬ä¸œ
# *.jd.com = server:syslib // äº¬ä¸œ
# *.360buyimg.com = server:syslib // äº¬ä¸œ é™æ€èµ„æº
# *.jdcloud.com = server:syslib // äº¬ä¸œäº‘
# *.jcloudstatic.com = server:syslib // äº¬ä¸œäº‘ ç¼“å­˜å’Œå­˜å‚¨
# *.jcloudstatic.net = server:syslib // äº¬ä¸œäº‘ é™æ€èµ„æº
# *.jdgslb.com = server:syslib // äº¬ä¸œäº‘ å…¨å±€è´Ÿè½½å‡è¡¡
# 3.cn = server:syslib // äº¬ä¸œçŸ­ç½‘å€

# > ðŸ‡¨ðŸ‡³ CHN
# CNNIC SDNS
# *.gov.cn = server:1.2.4.8 // ä¸­å›½æ”¿åºœç½‘
# *.æ”¿åŠ¡ = server:1.2.4.8 // ä¸­å›½æ”¿åºœç½‘

# > ðŸ‡­ðŸ‡° HKG
# PCCW Enterprises Limited
# *.pccw.com = server:dns1.pccw.com // ç”µè®¯ç›ˆç§‘
# *.1010.com.hk = server:dns1.pccw.com // 1O1O
# *.hkcsl.com = server:dns1.pccw.com // csl.
# *.theclub.com.hk = server:dns1.pccw.com // The CLUB by HKT
# *.now.com = server:dns2.pccw.com // now.com
# *.nowe.com = server:dns2.pccw.com // Now E
# *.now-tv.com = server:dns2.pccw.com // Now TV
# *.moov.hk = server:dns3.pccw.com // MOOV
# *.viu.com = server:dns3.pccw.com // viu
# *.viu.tv = server:dns3.pccw.com // viu tv
# Hong Kong Cable Television Limited
# *.hkcable.com.hk = server:dns1.hkcable.com.hk // Hong Kong Cable Television Limited
# *.i-cable.com = server:dns2.hkcable.com.hk // i-CABLE
# *.cabletv.com.hk = server:dns2.hkcable.com.hk // CABLE TV Service
# KDDI Hong Kong Limited
# *.hk.kddi.com = server:apple.kdd.net.hk // KDDI Hong Kong

# > ðŸ‡¹ðŸ‡¼ TWN
# ä¸­åŽç”µä¿¡
*.cht.com.tw = server:https://dns.hinet.net/dns-query // ä¸­åŽç”µä¿¡
*.hinet.net = server:https://dns.hinet.net/dns-query // ä¸­åŽç”µä¿¡HiNet
*.emome.net = server:https://dns.hinet.net/dns-query // ä¸­åŽç”µä¿¡emome
# So-net
# so-net.net.tw = server:ns1.so-net.net.tw // So-net Entertainment Taiwan
# so-net.tw = server:ns1.so-net.net.tw // So-net Entertainment Taiwan
# Taiwan Network Information Center
*.tw = server:https://dns.twnic.tw/dns-query // TWNIC DNS
*.taipei = server:https://dns.twnic.tw/dns-query // TWNIC DNS

# > ðŸ‡ºðŸ‡¸ USA
# Hurricane Electric
*.he.net = server:https://ordns.he.net/dns-query // HE.net

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302

[Header Rewrite]
# é‡å®šå‘ HTTP è¯·æ±‚æˆ–è€…ç¯¡æ”¹è¯·æ±‚ Header
# Surge å¯ä»¥åœ¨è¯·æ±‚è¢«å‘å¾€ç›®æ ‡æœåŠ¡å™¨ä¹‹å‰ç¯¡æ”¹è¯·æ±‚çš„ Header

# è¯¥æ®µå®šä¹‰é’ˆå¯¹ HTTP è¯·æ±‚çš„ URL é‡å®šå‘è§„åˆ™
# æœ‰ä¸¤ç§é‡å®šå‘æ–¹å¼: "header" å’Œ "302"

[SSID Setting]
# è¯¥æ®µä»…åœ¨ iOS ç‰ˆæœ¬ä¸‹ç”Ÿæ•ˆã€‚ 
# ä½ å¯ä»¥ä¸ºæŸäº›ç‰¹å®šçš„ WiFi ç½‘ç»œè®¾ç½®è®¾ç½®å‚æ•°
# å‚æ•°:
# suspend: "true" æˆ– "false"
# åœ¨è¯¥ç½‘ç»œä¸‹ Surge å°†æš‚åœå·¥ä½œã€‚ è¯·æ³¨æ„ï¼Œå¦‚æžœä½ åœ¨è¯¥ç½‘ç»œä¸‹ç›´æŽ¥å¯åŠ¨ Surgeï¼Œé‚£ä¹ˆ 
# Surge ä¾ç„¶ä¼šå·¥ä½œã€‚åªæœ‰å½“ä»Žå…¶ä»–ç½‘ç»œåˆ‡æ¢åˆ°è¯¥ç½‘ç»œæ—¶ï¼ŒSurge æ‰ä¼šæš‚åœã€‚
#
# SSID Setting æ®µè¡¨è¾¾å¼ï¼ˆé€‚ç”¨ SUBNET è§„åˆ™ï¼‰
# å¯ä½¿ç”¨ MCCMNC:100-200 åŒ¹é…ç‰¹å®šæ•°æ®ç½‘ç»œ
# å¯ä½¿ç”¨ SSID:value ç‰¹å®šåŒ¹é… SSIDï¼Œæ”¯æŒé€šé…ç¬¦
# å¯ä½¿ç”¨ BSSID:value ç‰¹å®šåŒ¹é… BSSIDï¼Œæ”¯æŒé€šé…ç¬¦
# å¯ä½¿ç”¨ ROUTER:value ç‰¹å®šåŒ¹é…è·¯ç”±åœ°å€
# å¯ä½¿ç”¨ TYPE:WIFI åŒ¹é…æ‰€æœ‰ WiFi ç½‘ç»œ
# å¯ä½¿ç”¨ TYPE:CELLULAR åŒ¹é…æ‰€æœ‰æ•°æ®ç½‘ç»œ
# å¯ä½¿ç”¨ TYPE:WIRED åŒ¹é…æ‰€æœ‰æœ‰çº¿ç½‘ç»œï¼ˆiOS ä¸Šæ”¯æŒ USB ç½‘ç»œé€‚é…
# å‚æ•° cellular-fallback å¯å•ç‹¬æŽ§åˆ¶ä¸€äº› Wi-Fi ä¸‹çš„ all-hybrid å’Œ wifi-assist è¡Œä¸º
# cellular-fallback=default ä½¿ç”¨ [General] ä¸­çš„ all-hybrid å’Œ wifi-assist é…ç½®
# cellular-fallback=off å…³é—­ all-hybrid å’Œ wifi-assist
# cellular-fallback=hybrid å¼€å¯ all-hybrid 
# cellular-fallback=wifi-assist å¼€å¯ wifi-assist
# å¦‚æ— å‰ç¼€åˆ™æŒ‰ç…§æ—§ç‰ˆè§„åˆ™åŒ¹é… SSIDã€BSSIDã€è·¯ç”±åœ°å€
# SSID Setting æ®µå†…å®¹ä»Žä¸Šè‡³ä¸‹ä¾æ¬¡åŒ¹é…ï¼ŒåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªç»“æžœåŽç«‹åˆ»ç»ˆæ­¢
#
# ä¸­å›½ç”¨æˆ·è‹¥ä½¿ç”¨ TFO å»ºè®®å¼ºåˆ¶å…³é—­æ•°æ®ç½‘ç»œä¸Šçš„ TFOï¼Œé¿å…äº§ç”Ÿé—®é¢˜ï¼Œç„¶åŽåœ¨å·²æµ‹è¯•è¿‡çš„ç½‘ç»œä¸Šå¼ºåˆ¶å¼€å¯ã€‚åªæœ‰è¿™æ ·é…ç½®åŽæ–¹å¯å……åˆ†äº«å— TFO çš„ä¼˜åŠ¿ã€‚
#
# è¿žæŽ¥åˆ° Apple Store çš„ Wi-Fiç½‘ç»œæ—¶ Surge æš‚åœå·¥ä½œ
SSID:"Apple Store" suspend=true
# éœ€è¦ Web éªŒè¯ç™»å½•çš„ Wi-Fi ç½‘ç»œä»¥åŠè·¯ç”±å™¨å·²ç»ç§‘å­¦ä¸Šç½‘çš„ Surge æŒ‚èµ·

[MITM]
skip-server-cert-verify = false
tcp-connection = true
h2 = true
hostname = www.google.cn
hostname-disabled = gateway.icloud.com, gateway.icloud.com.cn, weather-data.apple.com, buy.itunes.apple.com

[Script]
äº¬ä¸œ_å¼€å±åŽ»å¹¿å‘Š = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=start,script-path=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/startup/startup.js
